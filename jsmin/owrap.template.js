OpenWrap.template=function(){loadHandlebars();return ow.template};OpenWrap.template.prototype.addHelpers=function(b,a){var c=Object.keys(a.constructor.prototype);1>c.length&&(c=Object.keys(a.prototype));c.forEach(function(c){Handlebars.registerHelper(b+c,a[c])})};OpenWrap.template.prototype.addFormatHelpers=function(){ow.loadFormat();this.addHelpers("owFormat_",ow.format)};
OpenWrap.template.prototype.addConditionalHelpers=function(){ow.template.addHelper("and",function(b,a,c){return b&&a?c.fn(this):c.inverse(this)});ow.template.addHelper("compare",function(b,a,c,e){if(4>arguments.length)throw"Compare helper expects 4 arguments";var d;switch(a){case "==":d=b==c;break;case "===":d=b===c;break;case "!=":d=b!=c;break;case "!==":d=b!==c;break;case "<":d=b<c;break;case ">":d=b>c;break;case "<=":d=b<=c;break;case ">=":d=b>=c;break;case "typeof":d=typeof b===c;break;default:throw"Invalid operator: `"+
a+"`";}return!1===d?e.inverse(this):e.fn(this)});ow.template.addHelper("contains",function(b,a,c,e){loadUnderscore();"object"===typeof c&&(e=c,c=void 0);return _.isString(b)&&-1<b.indexOf(a,c)||_.contains(b,a,c)?e.fn(this):e.inverse(this)});ow.template.addHelper("gt",function(b,a,c){2===arguments.length&&(c=a,a=c.hash.compare);return b>a?c.fn(this):c.inverse(this)});ow.template.addHelper("gte",function(b,a,c){2===arguments.length&&(c=a,a=c.hash.compare);return b>=a?c.fn(this):c.inverse(this)});ow.template.addHelper("has",
function(b,a,c){loadUnderscore();if(2===arguments.length)return a.inverse(this);if(1===arguments.length)return b.inverse(this);if((Array.isArray(b)||_.isString(b))&&_.isString(a)&&-1<b.indexOf(a)||isObject(b)&&_.isString(a)&&a in b)return c.fn(this);c.inverse(this)});ow.template.addHelper("eq",function(b,a,c){2===arguments.length&&(c=a,a=c.hash.compare);return b===a?c.fn(this):c.inverse(this)});ow.template.addHelper("ifEven",function(b,a){return 0==b%2?a.fn(this):a.inverse(this)});ow.template.addHelper("ifNth",
function(b,a,c){return 0===++a%b?c.fn(this):c.inverse(this)});ow.template.addHelper("ifOdd",function(b,a){return 1==b%2?a.fn(this):a.inverse(this)});ow.template.addHelper("is",function(b,a,c){2===arguments.length&&(c=a,a=c.hash.compare);return b===a?c.fn(this):c.inverse(this)});ow.template.addHelper("isnt",function(b,a,c){2===arguments.length&&(c=a,a=c.hash.compare);return b!==a?c.fn(this):c.inverse(this)});ow.template.addHelper("lt",function(b,a,c){2===arguments.length&&(c=a,a=c.hash.compare);return b<
a?c.fn(this):c.inverse(this)});ow.template.addHelper("lte",function(b,a,c){2===arguments.length&&(c=a,a=c.hash.compare);return b<=a?c.fn(this):c.inverse(this)});ow.template.addHelper("neither",function(b,a,c){return b||a?c.inverse(this):c.fn(this)});ow.template.addHelper("or",function(b,a,c){return!0===b||!0===a?c.fn(this):c.inverse(this)});ow.template.addHelper("unlessEq",function(b,a){return b===a.hash.compare?a.fn(this):a.inverse(this)});ow.template.addHelper("unlessGt",function(b,a){return b>
a.hash.compare?a.fn(this):a.inverse(this)});ow.template.addHelper("unlessLt",function(b,a){return b<a.hash.compare?a.fn(this):a.inverse(this)});ow.template.addHelper("unlessGteq",function(b,a){return b>=a.hash.compare?a.fn(this):a.inverse(this)});ow.template.addHelper("unlessLteq",function(b,a){return b<=a.hash.compare?a.fn(this):a.inverse(this)})};OpenWrap.template.prototype.addHelper=function(b,a){Handlebars.registerHelper(b,a)};OpenWrap.template.prototype.delHelper=function(b){Handlebars.unregisterHelper(b)};
OpenWrap.template.prototype.addPartial=function(b,a){Handlebars.registerPartial(b,a)};OpenWrap.template.prototype.delPartial=function(b){Handlebars.unregisterPartial(b)};OpenWrap.template.prototype.getTemplate=function(b){return Handlebars.compile(b)};OpenWrap.template.prototype.parse=function(b,a){a=isUndefined(a)?this:a;return this.getTemplate(b)(a)};OpenWrap.template.prototype.parseHBS=function(b,a){a=isUndefined(a)?this:a;return this.getTemplate(io.readFileString(b))(a)};
OpenWrap.template.prototype.loadHBSs=function(b){var a={},c;for(c in b)if(0<b[c].indexOf(/::/)){var e=b[c].split(/::/);a[c]=ow.template.compile(getFromZip(e[0],e[1]))}else a[c]=ow.template.compile(io.readFileString(b[c]));return function(b,c){return ow.template.execCompiled(a[b])(c)}};
OpenWrap.template.prototype.loadPartialHBSs=function(b){for(var a in b)if(0<aMapOfHBSs[a].indexOf(/::/)){var c=aMapOfHBSs[a].split(/::/);ow.template.addPartial(a,getFromZip(c[0],c[1]))}else ow.template.addPartial(a,io.readFileString(b[a]))};OpenWrap.template.prototype.unloadPartialHBSs=function(b){for(var a in b)ow.template.delPartial(a)};OpenWrap.template.prototype.saveHBS=function(b,a){io.writeFileString(b,a)};
OpenWrap.template.prototype.saveCompiledHBS=function(b,a,c){io.writeFileString(b,ow.template.compile(a,c))};OpenWrap.template.prototype.compile=function(b,a){return Handlebars.precompile(Handlebars.parse(b),a)};OpenWrap.template.prototype.execCompiled=function(b){return Handlebars.template(af.eval("("+b+")"))};OpenWrap.template.prototype.loadCompiledHBS=function(b){return ow.template.execCompiled(io.readFileString(b))};OpenWrap.template.prototype.Handlebars=function(){return Handlebars};
